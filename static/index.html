<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>桌吉
        
    </title>
    <link rel="stylesheet" href="/static/css/styles.css">
  </head>
  <body>
    <div class="chat-wrap">
      <div class="header">
        <div style="width:40px;height:40px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#00c2ff)"></div>
        <div style="flex:1">
          <div class="title">桌吉</div>
          <div style="font-size:12px;color:var(--muted)">请在下方输入你的桌游问题</div>
        </div>
        <div>
          <button id="reset" style="padding:8px 10px;border-radius:8px;border:1px solid #e6ecf6;background:#fff;cursor:pointer">重置会话</button>
        </div>
      </div>

      <div id="log" class="log"></div>

      <div class="input-area">
        <div class="input-box" style="flex:1;display:flex;gap:8px;align-items:center">
          <input id="input" class="input" placeholder="在此输入你的问题，选中“使用知识库”将基于知识库检索回答" autocomplete="off" style="flex:1">
          <label style="display:flex;align-items:center;gap:6px;font-size:13px;color:var(--muted);margin-left:6px">
            <input id="use-knowledge" type="checkbox"> 使用知识库
          </label>
        </div>
        <div style="display:flex;align-items:center;gap:8px">
          <button id="send" class="send">发送</button>
          <div id="rag-result" style="font-size:13px;color:var(--muted)"></div>
        </div>
      </div>
    </div>

    <!-- marked + DOMPurify from CDN for richer Markdown rendering and XSS protection -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@2.4.0/dist/purify.min.js"></script>
    <script src="/static/js/chat.js"></script>
  </body>
</html>
